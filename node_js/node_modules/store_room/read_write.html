
var ModbusRTU=require("modbus-serial");
var client= new ModbusRTU();
var modport='/dev/serial/by-id/usb-ATC_High_Speed_USB_To_RS-485_DAMWDJL-if00-port0'

//open connection to a serial port
client.connectRTU("modport",{baudrate:9600},write);

function write(){
client.setID(1);

//write the values 0,0xffff to registers starting at address 

client.writecoil(17,1).
		then(read)
}

function read(){
	//read the 2 registers starting at address 5
	//on device number 1.
	client.readHoldingRegisters(17,2)
			.then(console.log);
}
